<!DOCTYPE html˃
<html˃
   <meta charset="UTF-8"˃
   <title˃Linux Development Map <!-- ignore --˃</title˃
<head˃
<script type=module>import('/IT_notes/map_v1.js')</script>
<link rel='stylesheet' type='text/css' href='/IT_notes/map_v1.css' />
</head˃

<body˃

<table style='width:100%'{˃
<tbody˃
</body˃
<!--


<div groupv˃
<span title˃Linux Development</span˃

<pre zoom labels="TODO"˃
<span xsmall˃Autotools</span˃
http://www.lrde.epita.fr/~adl/autotools.html"
Autotools vs SCons vs CMake: 
@[http://stackoverflow.com/questions/4071880/autotools-vs-cmake-vs-scons]
www-alt.gsi.de/documents/DOC-2007-Sep-17-1.pdf

http://fr.wikipedia.org/wiki/Autotools
"Ref: http://www-igm.univ-mlv.fr/~dr/XPOSE/Breugnot/

  Makefile.am ───┬───→ Automake ───→ Makefile.in ───┐
                 │                                  │
       ┌─────────┘                                  │
       v                                            v
  Configure.in ─────→ Autoconf ──────────────────˃ Configure ──˃ Makefile


  Configure.in ─────────────˃ Autoconf ───˃ Configure
                                ^ 
  Aclocal ────→ Aclocal.mp4 ────┘ 


  (Makefile.am, Configure.in) - -˃ Automake - -˃ Makefile.in


  (Aclocal) -˃ Aclocal.mp4
  
  
  (Configure.in, Aclocal.mp4) -˃ Autoconf -˃ Configure
  
  
  (Makefile.in) -˃ Configure -˃ Makefile
  
  (Configure.in, Accconfig.h) -˃ Autoheader -˃ Config.h.in -˃ Configure
  
  
  Configure.in: Options we want to test in our system (library dependencies,...)
  Makefile.am : Tells how the code must be build. It has a serie of Automake 
                macro definitions with the form:
                variable = value
  Autoheader  : Helps to sync header (include ...) dependencies."
  
  Autotools Mythbuster: https://autotools.io/index.html

    When                Command     Actions
  -------------------------------------------------------------------------------------
    Start of project    autoscan    Creates template file for Configure.in
                                    Writes Makefile.am (program structure)
    
                        aclocal     To install extra utility tools for automake
    
                        autoheader  To determine pre-processor variables to be defined,
                                    and saving them to 'config.h.in' file
  -------------------------------------------------------------------------------------
    at start or when    autoconf    Creates 'configure' from 'Configure.in'
    'configure.in' 
    is modified
  -------------------------------------------------------------------------------------
    at start or when    automake    Creates 'Makefile.in' from 'Makefile.am'
    'makefile.in' is
    lost                    
  -------------------------------------------------------------------------------------
    To change config.   configure   Creates 'Makefile' and 'config.h' depending on
                                    compilation options choosen.
  -------------------------------------------------------------------------------------
    To compile sources  make        Compile les sources ou met à jour les binaires
    to executable       
  -------------------------------------------------------------------------------------
</pre˃


<pre zoom labels="TODO">
<span xsmall>kevet: (Linux Input)</span>
@[http://stackoverflow.com/questions/27581500/hook-into-linux-key-event-handling]

Here is another strategy, which requires no messing with evdev code:
1. Tell X to ignore your keyboard (Option "Ignore" "true" for your keyboard device)
2. Run the below program, have it capture all the keys and forward 
   them to X using (a) Xtst extension or (b) using uinput 
   (http://thiemonge.org/getting-started-with-uinput) or (c) using 
   libxdo from xdotool (http://www.semicomplete.com/projects/xdotool/)

ORIGINAL ANSWER

Here is a small program (inspect.cpp) that I wrote a while ago for a similar purpose.

To run it, give it an appropriate /dev/input/event... or /dev/input/by-id/... device,
eg: ./inspect /dev/input/event3

You can look inside /usr/include/linux/input.h to find various macros for event.type, 
event.code and event.value.

#include ˂chrono˃
#include ˂fstream˃
#include ˂iostream˃
#include ˂string˃
#include ˂thread˃

#include ˂linux/input.h˃

int main(int argc, char* argv[])
{
    if(argc != 2)    {   std::cerr ˂˂ "Missing path to input device" ˂˂ std::endl;  return 1;  }
    std::ifstream stream(argv[1]);
    if(stream.fail())  {  std::cerr ˂˂ "Failed to open " ˂˂ argv[1] ˂˂ std::endl;   return 2;   }

    input_event event;
    while(true)  {
        if(stream.peek() == stream.eof())  {
            std::this_thread::sleep_for(std::chrono::milliseconds(100));  continue;
        }

        stream.read(reinterpret_cast˂char*˃(⅋event), sizeof(event));
        if(stream.fail()) { std::cerr ˂˂ "Failed to read input event" ˂˂ std::endl; return 3;  }

        if(event.type != 0) {
            std::cout ˂˂ "Received event: ";
            std::cout ˂˂   "type=" ˂˂ event.type  ˂˂ " ";
            std::cout ˂˂   "code=" ˂˂ event.code  ˂˂ " ";
            std::cout ˂˂ " value=" ˂˂ event.value ˂˂ " ";
            std::cout ˂˂ std::endl;
        }
        // forward keystrokes to X
    }

    return 0;
}
</pre>
<pre zoom labels="Valgrind,debugging,profiling,qa,TODO">
<span xsmall>Valgrind</span>
@[http://valgrind.org/docs/manual/manual.html]
http://valgrind.org/docs/manual/cg-manual.html
-ºMemcheckº  : memory error detector.               [debugging]

-ºCachegrindº: cache and branch-prediction profiler [profiling]
-ºCallgrindº : call-graph generating cache profiler.  
               some overlap with Cachegrind but also gathers
               extra information.

-ºHelgrindº  : thread error detector, making multi-threaded programs [locks]
               more correct.
 (DRD is similar to Helgrind but uses different analysis techniques
  and so may find different problems).

-ºMassifº    : heap profiler, to make programs consume less memory.
-ºDHATº      : different kind of heap profiler helping to understand issues
               of block lifetimes, block utilisation, and layout inefficiencies.
-ºSGcheckº   : experimental tool to detect overruns of stack and global arrays.
               (complementary to that of Memcheck)

-ºBBVº       : experimental SimPoint basic block vector generator, useful to people
               doing computer architecture research and development.

"Profiling C/C++: (Stackoverflow)
You can use valgrind with the following options
valgrind --tool=callgrind ./(Your binary)
It will generate a file called callgrind.out.x. You can then use 
kcachegrind tool to read this file. It will give you a graphical 
analysis of things with results like which lines cost how much. 
        ________
"
"Answer to run valgrind --tool=callgrind is not quite 
complete without some options. We usually do not want to profile 10 
minutes of slow startup time under valgrind and want to profile our 
program when it is doing some task.

So this is what I recommend. Run program first:

valgrind --tool=callgrind --dump-instr=yes -v --instr-atstart=no ./binary ˃ tmp

Now when it works and we want to start profiling we should run in another window:

callgrind_control -i on

This turns profiling on. To turn it off and stop whole task we might use:

callgrind_control -k

Now we have some files named callgrind.out.* in current directory. To see profiling results use:

kcachegrind callgrind.out.*

I recommend in next window to click on ""Self"" column header, 
otherwise it shows that ""main()"" is most time consuming task. ""Self"" 
shows how much each function itself took time, not together with 
dependents. 

            ________"
</pre>
____________________________
PROFILING:{{{
"1999 : LTT, 2005 : LTTng, 2005 : Dtrace,  2008 : Ftrace, 2009 : Perf, 2012 : LTTng 2.0
https://lttng.org/lttng2.0
http://lttng.org/files/papers/presentations/lttng20tracingforeveryone.pdf
src: http://lttng.org/files/papers/presentations/lttng20tracingforeveryone.pdf
(create, enable, start, stop, view, destroy)
# lttng create
# lttng enable-event -k -a
# lttng enable-event -u -a
# lttng start
# lttng stop
# lttng view
# lttng destroy

      _____"

"gprof

      _____"
http://www.pixelbeat.org/programming/profiling/
"How to use gprof with multi-threaded apps: http://sam.zoy.org/writings/programming/gprof.html
      _____"
"SystemTAP:
""In order to aid in debugging and monitoring internal behavior, the GNU C Library exposes
nearly-zero-overhead SystemTap probes marked with the libc provider.
These probes are not part of the GNU C Library stable ABI, and they are subject to
change or removal across releases. Our only promise with regard to them is that, if we
find a need to remove or modify the arguments of a probe, the modified probe will have a
different name, so that program monitors relying on the old probe will not get unexpected
arguments.""

      _____"
"http://stackoverflow.com/questions/375913/what-can-i-use-to-profile-c-code-in-linux
http://stackoverflow.com/questions/2497211/how-to-profile-multi-threaded-c-application-on-linux
http://stackoverflow.com/questions/375913/what-can-i-use-to-profile-c-code-in-linux/378024#378024

      _____"
"""Have a look at oprofile. The profiling overhead of this tool is negligible and it supports 
multithreaded applications---as long as you don't want to profile mutex 
contention (which is a very important part of profiling multithreaded 
applications)""

      _____"
"http://poormansprofiler.org/
""Sampling tools like oprofile or dtrace's profile provider don't really provide 
methods to see what [multithreaded] programs are blocking on - only where they spend 
CPU time. 
        
Though there exist advanced techniques (such as systemtap and dtrace call level probes),
it is overkill to build upon that. Poor man doesn't have time. Poor man needs food. ""


      _____"
"http://web.archive.org/web/20111105130616/http://blog.bepointbe.be/index.php/2008/10/19/30-a-bit-of-plasma-profiling

      _____"
"Newer kernels (e.g. the latest Ubuntu kernels) come with the new 'perf' tools (apt-get install linux-tools) aka perf_events

These come with classic sampling profilers (man-page) as well as the awesome timechart!

The important thing is that these tools can be system profiling
 and not just process profiling - they can show the interaction between 
threads, processes and the kernel and let you understand the scheduling 
and IO dependencies between processes.

      _____"
"oprofile  is good because it makes it much easier than gprof to profile multiple programs at once. You also can run it
on your release build (if it has symbols), instead of having to build a special profiling build.
If you don't care about taking a massive performance hit (50x), valgrind (cachegrind) is good.

      _____"
"You can use callgrind. Together with KCacheGrind, it gives a pretty nice profiler. Besides that, Intel VTune is free for 
educational use on Linux. It is probably the best profiler out there. If you have an AMD CPU, use AMD Codeanalyst
 (succeeded by AMD’s CodeXL), which is also available for Linux; this one is only decent, but free.

      _____"
" I would use Valgrind and Callgrind as a base for my profiling tool suite. What is important to know
 is that Valgrind is basically a Virtual Machine:
  (wikipedia) Valgrind is in essence a virtual
  machine using just-in-time (JIT)  compilation techniques, including
  dynamic recompilation. Nothing from  the original program ever gets run
  directly on the host processor.  Instead, Valgrind first translates the
  program into a temporary, simpler form  called Intermediate Representation
  (IR), which is a processor-neutral,  SSA-based form. After the conversion,
  a tool (see below) is free to do  whatever transformations it would like
  on the IR, before Valgrind translates  the IR back into machine code and lets  the host processor run it. 


Callgrind is a profiler build upon that. Main benefit is that you don't have to run your aplication for hours to get reliable result. Even
 one second run is sufficient to get rock-solid, reliable results, because Callgrind is a non-probing profiler. 

Another tool build upon Valgrind is Massif. I use it to profile heap 
memory usage. It works great. What it does is that it gives you 
snapshots of memory usage -- detailed information WHAT holds WHAT 
percentage of memory, and WHO had put it there. Such information is 
available at different points of time of application run

      _____"
"https://access.redhat.com/site/documentation/en-US/Red_Hat_Enterprise_Linux/6/html/Deployment_Guide/s1-oprofile-and-systemtap.html

SystemTap is a tracing and probing tool that allows users to study and monitor the activities of the operating system in fine detail. It 
provides information similar to the output of tools like netstat, ps, top, and iostat; however, SystemTap is designed to provide more filtering 
and analysis options for collected information.
                
˃˃˃˃˃˃While using OProfile is suggested in cases of collecting data on where and why the processor spends time in a particular area of code, it
 is less usable when finding out why the processor stays idle. ˂˂˂˂˂
                
You might want to use SystemTap when instrumenting specific places in code. Because SystemTap allows you to run the code instrumentation 
without having to stop and restart the instrumentation, it is particularly useful for instrumenting the kernel and daemons.
                
For more information on SystemTap, refer to Section 26.11.2, “Useful Websites” for the relevant SystemTap documentation.
                
      _____"

"https://code.google.com/p/gperftools/?redir=1
google-perftools is the only reasonable alternative to gprof I've found. It's quite 
usable, familiar, and I believe it's time sampling, so that IO 
bottlenecks are revealed, in addition to the usual CPU bottle necks that
 gprof discovers. It's also significantly less invasive.

      _____"
"There is also LTTng (http://lttng.org/) I've never used that one though,
 so I cannot tell how well it works. But one advantage it has is an 
userspace tracer. In some situations that could be rather nice to have.

      _____"
}}}
____________________________
Linking ELF: {{{

"objcopy - copy and translate object files
it can be used to generate a raw binary file by using an output target of binary (e.g., use -O binary).  When objcopy
       generates a raw binary file, it will essentially produce a memory dump of the contents of the input object file.  All
       symbols and relocation information will be discarded.  The memory dump will start at the load address of the lowest
       section copied into the output file.
      ________________________"
"Ref: http://permalink.gmane.org/gmane.comp.gnu.binutils/11292:
turning (part of) an executable into a shared objectI have executables with some extra read-only data in a non-standard section
 ("".debug_cfg"" instead of "".data"" or "".rodata"").  I would like to take a linked executable and extract just this data into a 
standalone file.  Furthermore, I would like the extracted data to be navigable by an unrelated application using dlopen() and
 dlsym().  I am working on a Linux x86 box with ELF binaries, and while portability is always welcome, that specific platform is
 currently my top priority.

Extracting the special section is easy enough using objcopy.  My gcc section attributes notwithstanding, it appears that pointed-to
 strings in the extra data actually end up in the "".rodata"" section rather than the "".debug_cfg"" section.  So we keep both:

     % objcopy -j .debug_cfg -j .rodata executable extracted-data

gcc is perfectly willing to turn that extracted data into a shared object:

     % gcc -shared -o extracted-data.so extracted-data

I can write a program that dlopen()'s this shared object and uses dlsym() to fetch the address of a symbol that I know should be
 present in the "".debug_cfg"" section.  That symbol refers to a structure containing string pointer fields, non-string pointer
 fields, and non-pointer fields.  The string pointer fields should point into "".rodata"", while the non-string pointer fields 
always point to other data also in the "".debug_cfg"" section.  What I find, is that the non-pointer fields have correct values,
 but the pointer fields do not.  

Presumably we lost some important reloc information when we linked the executable.  We can explicitly ask the linker to keep
 that information around.  Unfortunately, that leads to an error when turning the extracted data into a shared object:

     % gcc -Wl,--emit-relocs -o executable [...]
     % objcopy -j .debug_cfg -j .rodata executable extracted-data
     % gcc -shared -o extracted-data.so extracted-data
     /usr/bin/ld: simple-cfg.sec(.debug_cfg+0x8048400): reloc against \
     `.rodata': error 2

It looks like the "".rel.dyn"" section contains relocation information. Perhaps I need to keep that too?  No luck:

     % gcc -Wl,--emit-relocs -o executable ...
     % objcopy -j .debug_cfg -j .rodata -j .rel.dyn executable \
     extracted-data
     % gcc -shared -o extracted-data.so extracted-data
     /usr/bin/ld: simple-cfg.sec(.debug_cfg+0x8048400): reloc against \
     `.rodata': error 2

Is there any way to make this alchemical trick work?  How can I extract selected data sections from a linked executable and
 turn them back into a shared, dynamically loadable object with properly adjusted pointers?

      ________________________"
"http://gcc.gnu.org/ml/gcc-help/2012-10/msg00159.html

      ________________________"
"From: Michael Zintakis ˂michael dot zintakis at googlemail dot com˃To: ""gcc-help at gcc dot gnu dot org"" ˂gcc-help at gcc dot gnu dot org˃Date: Sat, 27 Oct 2012 20:18:47 +0100Subject: Re: loading of shared objects and executablesReferences: ˂508B1C99.8070400@googlemail.com˃ ˂5F3AFFD2D26186458636762CE30CCF65018C0A@MX102CL01.corp.emc.com˃
I'm only not sure if the kernel know all the sorts of ELF sections and segments ld.so can handle. 
Probably you'll need to modify kernel code to walk over DYNAMIC segment (which keeps the list of dependencies) to verify the shared objects an application depends on.

It looks as though I have to reconsider my initial approach - even though I could read that segment (not an easy task though), there is no way the kernel alone could find all dependencies based on that section (there could be .so files, which have dependencies on other .so files and so on), so I have to change ld.so in order to be able to do what the kernel does and verify the files to be loaded. That would be in addition to the kernel doing the verification of the initial executable.

Yes, but a statically linked executable can also call dlopen(), mmap() (As it was noted later).
 
Yep, and given what I wrote in the previous paragraph above, it looks as though ld.so also needs to be capable of doing the verification.

On a slightly brighter node, (dynamically) adding new sections to ELF turned out to be an easy task, even if the executable/.so file is already compiled/built - all I have to do is execute ""objcopy --add-section ˂section_name˃=˂section_file˃ ˂infile˃"" and then ""objcopy --set-section-flags ˂section_name˃=˂flags˃ ˂infile˃"" to set the appropriate flags to ˂section_name˃ (""readonly"" in my case). As soon as this is done, the section is added (with its content set from the content of ˂section_file˃) and the appropriate reallocation of the ELF binary is ""automatically"" done by objcopy.

My initial intent was to create a new section in the ELF header, but I could not find an easy way to do that either during compile time or when the executable/.so file is already built, so placing my ""custom"" section in the ELF section header by using objcopy seems a good choice and I don't have to recompile everything.

Next, I'll look for ways in which the binary/.so loading could be bypassed (to prevent verification) so that when I change the kernel and the ld.so code later on, to prevent that from happening and enforce verification in all cases, when desired.

      ________________________"
"Executable stacks: (nested functions)
http://www.airs.com/blog/archives/518
      ________________________"
}}}
____________________________
MAKE: {{{
"C&P from: http://mad-scientist.net/make/rules.html
Paul's Rules of Makefiles
 A somewhat tongue-in-cheek title, but this page lists a few very important rules you should always keep in mind when creating makefiles.
Following these rules will allow your makefiles to be both pithy and beautiful.  And they will make maintaining and modifying them, and thus
your entire life, a much more pleasant experience.

 Use GNU make.

 Don't hassle with writing portable makefiles, use a portable make instead!
  Every non-.PHONY
rule must update a file with the exact name of its target.

 Make sure every command script touches the file ""$@""--
not ""../$@"", or ""$(notdir $@)"", but
exactly $@.  That way you and GNU make always agree.
  Life is simplest if the targets are built in the current working directory.

 Use VPATH to locate the sources from the objects directory, not to locate the objects from the sources directory.
  Follow the Principle of Least Repetition.

 Try to never write a filename more than once.  Do this through a combination of make variables, pattern rules, automatic variables, and GNU
make functions.  Every non-continued line that starts with a TAB is part of a command script--and vice versa.

 If a non-continued line does not begin with a TAB character, it is never part of a command script: it is always interpreted as makefile syntax.
 If a non-continued line does begin with a TAB character, it is always part of a command script: it is never interpreted as makefile syntax.

 Continued lines are always of the same type as their predecessor, regardless of what characters they start with.


 Yes, that's all of them... so far.  It's not that that's all I have to say on the subject, but coming up with points which are both truly fundamental 
and expressible in a succinct rule format, ain't easy.

 Let me know if you have suggestions.

Paul D. Smith
˂psmith@gnu.org˃"
"Quick Reference:
Appendix A Quick Reference
This appendix summarizes the directives, text manipulation functions, and special variables which GNU make understands.
See Special Targets, Catalogue of Implicit Rules, and Summary of Options, for other summaries.
   Here is a summary of the directives GNU make recognizes:     
define variable define variable =define variable :=define variable ::=define variable +=define variable ?=endefDefine multi-line variables.
See Multi-Line. undefine variableUndefining variables.
See Undefine Directive.
ifdef variableifndef variableifeq (a,b)ifeq ""a"" ""b""ifeq 'a' 'b'ifneq (a,b)ifneq ""a"" ""b""ifneq 'a' 'b'elseendif Conditionally evaluate part of the makefile.
override variable-assignmentDefine a variable, overriding any previous definition, even one from the command line.
See The override Directive. 
export Tell make to export all variables to child processes by default.
See Communicating Variables to a Sub-make.
export variableexport variable-assignmentunexport variableTell make whether or not to export a particular variable to child processes.
See Communicating Variables to a Sub-make.
private variable-assignmentDo not allow this variable assignment to be inherited by prerequisites.

See Suppressing Inheritance.
   
vpath pattern pathSpecify a search path for files matching a ‘%’ pattern.

See The vpath Directive.
     
vpath patternRemove all search paths previously specified for pattern.
     
vpathRemove all search paths previously specified in any vpath directive. 

Here is a summary of the built-in functions (see Functions):

 $(subst from,to,text)Replace from with to in text.

See Functions for String Substitution and Analysis.
   
$(patsubst pattern,replacement,text)Replace words matching pattern with replacement in text.

See Functions for String Substitution and Analysis.
     
$(strip string)Remove excess whitespace characters from string.

See Functions for String Substitution and Analysis.
     
$(findstring find,text)Locate find in text.

See Functions for String Substitution and Analysis.

     
$(filter pattern...,text)Select words in text that match one of the pattern words.

See Functions for String Substitution and Analysis.

     
$(filter-out pattern...,text)Select words in text that do not match any of the pattern words.

See Functions for String Substitution and Analysis.

     
$(sort list)Sort the words in list lexicographically, removing duplicates.

See Functions for String Substitution and Analysis.

     
$(word n,text)Extract the nth word (one-origin) of text.

See Functions for String Substitution and Analysis.

     
$(words text)Count the number of words in text.

See Functions for String Substitution and Analysis.

     
$(wordlist s,e,text)Returns the list of words in text from s to e.

See Functions for String Substitution and Analysis.

     
$(firstword names...)Extract the first word of names.

See Functions for String Substitution and Analysis.

     
$(lastword names...)Extract the last word of names.

See Functions for String Substitution and Analysis.

     
$(dir names...)Extract the directory part of each file name.

See Functions for File Names.

     
$(notdir names...)Extract the non-directory part of each file name.

See Functions for File Names.

     
$(suffix names...)Extract the suffix (the last ‘.’ and following characters) of each file name.

See Functions for File Names.

     
$(basename names...)Extract the base name (name without suffix) of each file name.

See Functions for File Names.

     
$(addsuffix suffix,names...)Append suffix to each word in names.

See Functions for File Names.

     
$(addprefix prefix,names...)Prepend prefix to each word in names.

See Functions for File Names.

     
$(join list1,list2)Join two parallel lists of words.

See Functions for File Names.

     
$(wildcard pattern...)Find file names matching a shell file name pattern (not a
‘%’ pattern).

See The Function wildcard.

     
$(realpath names...)For each file name in names, expand to an absolute name that
does not contain any ., .., nor symlinks.

See Functions for File Names.

     
$(abspath names...)For each file name in names, expand to an absolute name that
does not contain any . or .. components, but preserves
symlinks.

See Functions for File Names.

     
$(error text...)When this function is evaluated, make generates a fatal error
with the message text.

See Functions That Control Make.

     
$(warning text...)When this function is evaluated, make generates a warning with
the message text.

See Functions That Control Make.

     
$(shell command)Execute a shell command and return its output.

See The shell Function.

     
$(origin variable)Return a string describing how the make variable variable was
defined.

See The origin Function.

     
$(flavor variable)Return a string describing the flavor of the make variable
variable.

See The flavor Function.

     
$(foreach var,words,text)Evaluate text with var bound to each word in words,
and concatenate the results.

See The foreach Function.

     
$(if condition,then-part[,else-part])Evaluate the condition condition; if it's non-empty substitute
the expansion of the then-part otherwise substitute the
expansion of the else-part.

See Functions for Conditionals.

     
$(or condition1[,condition2[,condition3...]])Evaluate each condition conditionN one at a time; substitute the
first non-empty expansion.  If all expansions are empty, substitute
the empty string.

See Functions for Conditionals.

     
$(and condition1[,condition2[,condition3...]])Evaluate each condition conditionN one at a time; if any
expansion results in the empty string substitute the empty string.  If
all expansions result in a non-empty string, substitute the expansion
of the last condition.

See Functions for Conditionals.

     
$(call var,param,...)Evaluate the variable var replacing any references to $(1),
$(2) with the first, second, etc. param values.

See The call Function.

     
$(eval text)Evaluate text then read the results as makefile commands. 
Expands to the empty string.

See The eval Function.

     
$(file op filename,text)Expand the arguments, then open the file filename using mode
op and write text to that file.

See The file Function.

     
$(value var)Evaluates to the contents of the variable var, with no expansion
performed on it.

See The value Function. 


   Here is a summary of the automatic variables. 
See Automatic Variables,
for full information.

     $@The file name of the target.

     
$%The target member name, when the target is an archive member.

     
$˂The name of the first prerequisite.

     
$?The names of all the prerequisites that are
newer than the target, with spaces between them. 
For prerequisites which are archive members, only
the named member is used (see Archives).

     
$^$+The names of all the prerequisites, with spaces between them.  For
prerequisites which are archive members, only the named member is used
(see Archives).  The value of $^ omits duplicate
prerequisites, while $+ retains them and preserves their order.

     
$*The stem with which an implicit rule matches
(see How Patterns Match).

     
$(@D)$(@F)The directory part and the file-within-directory part of $@.

     
$(ºD)$(ºF)The directory part and the file-within-directory part of $*.

     
$(%D)$(%F)The directory part and the file-within-directory part of $%.

     
$(˂D)$(˂F)The directory part and the file-within-directory part of $˂.

     
$(^D)$(^F)The directory part and the file-within-directory part of $^.

     
$(+D)$(+F)The directory part and the file-within-directory part of $+.

     
$(?D)$(?F)The directory part and the file-within-directory part of $?. 


   These variables are used specially by GNU make:

     MAKEFILES
Makefiles to be read on every invocation of make. See The Variable MAKEFILES.
VPATH Directory search path for files not found in the current directory. See VPATH Search Path for All Prerequisites.

SHELL The name of the system default command interpreter, usually /bin/sh.  You can set SHELL in the makefile to change the shell used to run recipes.  See Recipe Execution.  The SHELL variable is handled specially when importing from and exporting to the environment.  See Choosing the Shell.

     
MAKESHELL On MS-DOS only, the name of the command interpreter that is to be used by make.  This value takes precedence over the value of SHELL.  See MAKESHELL variable.

     
MAKE The name with which make was invoked.  Using this variable in recipes has special meaning.  See How the MAKE Variable Works.

     
MAKE_VERSION The built-in variable ‘MAKE_VERSION’ expands to the version number of the GNU make program. 


MAKE_HOST The built-in variable ‘MAKE_HOST’ expands to a string representing the host that GNU make was built to run on. 


MAKELEVEL The number of levels of recursion (sub-makes). See Variables/Recursion.

     
MAKEFLAGS The flags given to make.  You can set this in the environment or a makefile to set flags.

See Communicating Options to a Sub-make. It is never appropriate to use MAKEFLAGS directly in a recipe line: its contents may not be quoted correctly for use in the shell.  Always allow recursive make's to obtain these values through the environment from its parent.

GNUMAKEFLAGS Other flags parsed by make.  You can set this in the environment or a makefile to set make command-line flags.  GNU make never sets this variable itself.  This variable is only needed if you'd like to set GNU make-specific flags in a POSIX-compliant makefile.  This variable will be seen by GNU make and ignoredby other make implementations.  It's not needed if you only use GNU make; just use MAKEFLAGS directly. See Communicating Options to a Sub-make.

     
MAKECMDGOALS The targets given to make on the command line.  Setting thisvariable has no effect on the operation of make. See Arguments to Specify the Goals.

     
CURDIR Set to the pathname of the current working directory (after all -C options are processed, if any).  Setting this variable has no effect on the operation of make.

See Recursive Use of make.

SUFFIXES The default list of suffixes before make reads any makefiles.
.LIBPATTERNSDefines the naming of the libraries make searches for, and their order.

See Directory Search for Link Libraries. "
}}}
____________________________
Non-Classified:
{{{
Scons:
          __________
"http://www.omicrono.com/2014/05/vocore-un-ordenador-linux-con-wifi-del-tamano-de-una-moneda/
       ______________"
"http://stackoverflow.com/questions/tagged/gcc
http://stackoverflow.com/questions/tagged/make
http://stackoverflow.com/questions/tagged/ld
http://stackoverflow.com/questions/tagged/linux+debugging
       ______________"
"http://stackoverflow.com/users/85371/sehe
       ______________"
"C/C++ visibility: http://www.ibm.com/developerworks/aix/library/au-aix-symbol-visibility/index.html?ca=drs-
       ______________"
" linux-gate.so.1 is exported by the kernel to optimise system calls
http://www.trilithium.com/johan/2005/08/linux-gate
https://www.technovelty.org//linux/linux-gate.html
       ______________"
"Good C tutorial:http://www.rainydayz.org/beej/bgc/index.html
String manipulation: http://www.rainydayz.org/beej/bgc/stringref.html
       ______________"

"gcc 
-g  // add debuggin info
-Idir1 -Idir2   ˂-- Add directory to include search path
-D_FORTIFY_SOURCE=2 
-D_ISOC99_SOURCE   ˂-- The GNU C Library nevertheless has a complete ISOC99 implementation of the standard. Use this macro to activate. This is actually a libc option, not a compiler option. http://www.gnu.org/software/libc/manual/html_node/Feature-Test-Macros.html
-std=c99
-D_FILE_OFFSET_BITS=64  ˂-- Usefull for apps with large files (Video, big databases,..)
-D_LARGEFILE_SOURCE 
-D_POSIX_C_SOURCE=200112 
-D_XOPEN_SOURCE=600 
-O2   // Code Optimization level
-fstack-protector 
--param=ssp-buffer-size=4 
-Wformat 
-Werror=format-security
-fomit-frame-pointer 
-pthread // ˂-- activate posix trheads
-Wall 
-fno-math-errno
-fno-signed-zeros
-fno-tree-vectorize
-MMD
-MF lua_avconv.d 
-MT lua_avconv.o 
-c 
-o lua_avconv.o lua_avconv.c
       ______________"

"""Offtopic"" Programming Blog: http://www.bfilipek.com/
       ______________
"

"http://eli.thegreenplace.net/archives/
http://eli.thegreenplace.net/category/programming/assembly/
http://eli.thegreenplace.net/category/programming/c-c/
http://eli.thegreenplace.net/category/programming/compilation/

       ______________"



"Binary bithacks: http://graphics.stanford.edu/~seander/bithacks.html
Compute the sign of an integer
Detect if two integers have opposite signs
Compute the integer absolute value (abs) without branching
Compute the minimum (min) or maximum (max) of two integers without branching
Conditionally set or clear bits without branching
...

       ______________"
"http://www.picloud.com/ 
Use one core or thousands without managing a single server.
       ______________"

"DistCC: Distributed Compiler:
 http://code.google.com/p/distcc/
Video Demo: http://www.youtube.com/watch?v=2T6jwDB44e4
       ______________"
"http://en.wikipedia.org/wiki/C11_%28C_standard_revision%29
       ______________"
"http://www.chromium.org/developers/design-documents/chromium-graphics
       ______________"
"http://niwt.addictivecode.org/Niwt Modular-extensible Unix-pipe based wget app for HTTP ""stuff""
       ______________"

"http://roxlu.com/2014/039/decoding-h264-and-yuv420p-playback
        Using OpenSSL with memory BIOs
        Attributeless Vertex Shader with OpenGL
        Circular Image Selector
        Decoding H264 and YUV420P playback
        Fast Fourier Transform
        OpenGL Rim Shader
        Rendering The Depth Buffer
        Delaunay Triangulation
        RapidXML
        Git Snippets
        Cross Platform OpenGL
        Basic Shading With OpenGL
        Open Source Libraries For Creative Coding
        Bouncing particle effect
        OpenGL Instanced Rendering
        A Collection Of Interesting Articles
        Mapping a texture on a disc
        Download HTML page using CURL
        Height Field Simulation on GPU
        Scholar
        OpenCV
        openGL
        Math
        Gists to remember
        Reverse SSH
        Working Set
        Consumer + Producer model with libuv        
        Parsing binary data
        C++ file operation snippets
        Importance of blur with image gradients
        Real-time oil painting with openGL
        Basic CUDA example
        x264 encoder
        Generative helix with openGL
        Mini test with vector field
        Protractor gesture recognizer
        Hair simulation
        Some glitch screenshots
        Working on video installation
        Generative meshes
        Converting video/audio using avconv
        Auto start terminal app on mac
        Export blender object to simple file format
               ______________

http://developer.amd.com/tools-and-sdks/heterogeneous-computing/codexl/
               ______________
https://software.intel.com/en-us/intel-vtune-amplifier-xe
               ______________
http://www.stack.nl/~dimitri/doxygen/manual/starting.html
               ______________
"http://www.openlogic.com/wazi/bid/336594/advanced-gdb-tips-and-tricks
     __________"
"DDD Manual: http://www.gnu.org/software/ddd/manual/html_mono/ddd.html
Nemiver. DDD Alternative: https://wiki.gnome.org/Apps/Nemiver
     __________"
"https://github.com/DonDiego/s2e
https://s2e.epfl.ch/
     __________"
"https://code.google.com/p/address-sanitizer/
AddressSanitizer (ASan) is a fast memory error detector. 
 It finds use-after-free and {heap,stack,global}-buffer overflow bugs in C/C++ programs. 
     __________"

"(gdb) help breakpoints. List of commands:
awatch -- Set a watchpoint for an expression · · · · · · · · |break -- Set breakpoint at specified line or function
break-range -- Set a breakpoint for an address range · · · · |catch -- Set catchpoints to catch events
catch assert -- Catch failed Ada assertions· · · · · · · · · |catch catch -- Catch an exception
catch exception -- Catch Ada exceptions· · · · · · · · · · · |catch exec -- Catch calls to exec
catch fork -- Catch calls to fork· · · · · · · · · · · · · · |catch syscall -- Catch system calls by their names and/or numbers
catch throw -- Catch an exception· · · · · · · · · · · · · · |catch vfork -- Catch calls to vfork
clear -- Clear breakpoint at specified line or function· · · |commands -- Set commands to be executed when a breakpoint is hit
condition -- Specify breakpoint number N to break only if COND is true
delete -- Delete some breakpoints or auto-display expressions
delete bookmark -- Delete a bookmark from the bookmark list ·|delete breakpoints -- Delete some breakpoints or auto-display expressions
delete checkpoint -- Delete a checkpoint (experimental) · · ·|delete display -- Cancel some expressions to be displayed when program stops
delete mem -- Delete memory region· · · · · · · · · · · · · ·|delete tracepoints -- Delete specified tracepoints
delete tvariable -- Delete one or more trace state variables·|disable -- Disable some breakpoints
disable breakpoints -- Disable some breakpoints · · · · · · ·|disable display -- Disable some expressions to be displayed when program stops
disable mem -- Disable memory region· · · · · · · · · · · · ·|disable pretty-printer -- GDB command to disable the specified pretty-printer
disable tracepoints -- Disable specified tracepoints· · · · ·|enable -- Enable some breakpoints
enable breakpoints -- Enable some breakpoints · · · · · · · ·|enable breakpoints delete -- Enable breakpoints and delete when hit
enable breakpoints once -- Enable breakpoints for one hit · ·|enable delete -- Enable breakpoints and delete when hit
enable display -- Enable some expressions to be displayed when program stops
enable mem -- Enable memory region· · · · · · · · · · · · · ·|enable once -- Enable breakpoints for one hit
enable pretty-printer -- GDB command to enable the specified |pretty-printer
enable tracepoints -- Enable specified tracepoints· · · · · ·|ftrace -- Set a fast tracepoint at specified line or function
hbreak -- Set a hardware assisted breakpoint· · · · · · · · ·|ignore -- Set ignore-count of breakpoint number N to COUNT
rbreak -- Set a breakpoint for all functions matching REGEXP·|rwatch -- Set a read watchpoint for an expression
save -- Save breakpoint definitions as a script · · · · · · ·|save breakpoints -- Save current breakpoint definitions as a script
save gdb-index -- Save a gdb-index file · · · · · · · · · · ·|save tracepoints -- Save current tracepoint definitions as a script
skip -- Ignore a function while stepping· · · · · · · · · · ·|skip delete -- Delete skip entries
skip disable -- Disable skip entries· · · · · · · · · · · · ·|skip enable -- Enable skip entries
skip file -- Ignore a file while stepping · · · · · · · · · ·|skip function -- Ignore a function while stepping
strace -- Set a static tracepoint at specified line · · · · ·|tbreak -- Set a temporary breakpoint
tcatch -- Set temporary catchpoints to catch events · · · · ·|tcatch assert -- Catch failed Ada assertions
tcatch catch -- Catch an exception· · · · · · · · · · · · · ·|tcatch exception -- Catch Ada exceptions
tcatch exec -- Catch calls to exec· · · · · · · · · · · · · ·|tcatch fork -- Catch calls to fork
tcatch syscall -- Catch system calls by their names and/or numbers
tcatch throw -- Catch an exception· · · · · · · · · · · · · ·|tcatch vfork -- Catch calls to vfork
thbreak -- Set a temporary hardware assisted breakpoint · · ·|trace -- Set a tracepoint at specified line or function
watch -- Set a watchpoint for an expression
     __________"
"Set breakpoint: (http://www.delorie.com/gnu/docs/gdb/gdb_29.html)
 $ break ""function_name""   ˂- break at function
 $ break filename:linenum  ˂- break at filename:line
Remove breakpoint:
 $ clear ""function""|""line number""|...
List breakpoints:
 $ info breakpoints
Save breakpoints:
 $ save breakpoints ˂filename˃
Restore breakpoints: 
1.- Add first the line ""set breakpoint pending on to ˂filename˃"".
2.- $ source ˂filename˃
""Moving"":
 n -˃ Next (do not enter function)
 s -˃ Step (enter function)
 finish -˃ Step ""out"" of the function
     __________"
"ref: http://stackoverflow.com/questions/1354637/watchpoint-in-gdb
""command"" can be used to set a list of GDB commands to execute whenever a breakpoint is hit. Very useful:

Ex1: ""Suppose that I have a function format that is called by a lot of other functions. I want to break on it, 
but only after function do_step_3 has been called.""

break do_step_3
commands
  break format
  continue
end

     __________"
"Conditional watch:
 $ watch my_var if my_var ˃ 3
     __________"
"You can set a watchpoint that does not go out of scope by setting it to the memory address. 

(gdb) p &var1
$1 = (int *) 0x41523c0
(gdb) watch º(int º)0x41523c0
Hardware watchpoint 1: º(int º)0x41523c0
     __________"
"TODO: UndoDB is a (non-free) reversible debugging tool for Linux
http://undo-software.com/undodb/
     __________"


______________
https://www.zephyrproject.org/
_________________
https://gcc.gnu.org/gcc-8/changes.html
https://clearlinux.org/blogs/gnu-compiler-collection-8-gcc-8-transitioning-new-compiler
}}}

˂/div˃
--˃
</html˃
